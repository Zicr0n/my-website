import{s as Ue,n as Ee,r as Pe,c as Ve,o as ze,j as De}from"../chunks/scheduler.CuuWUbAK.js";import{S as Fe,i as je,e as m,s as S,t as U,c as g,a as A,x as F,f as L,b as P,d as h,k as p,A as de,v as Ie,g as I,h as i,m as re,j as Q,u as Me,z as Re}from"../chunks/index.B4TdUw4E.js";import{e as he}from"../chunks/each.D6YF6ztN.js";import{b as ke}from"../chunks/paths.B_ZXjmQi.js";import{a as ye}from"../chunks/user.-vsOdSnQ.js";function Ae(s,e,t){const l=s.slice();return l[27]=e[t].word,l[28]=e[t].lettersLeft,l[29]=e[t].top,l[30]=e[t].left,l[31]=e[t].isGold,l[33]=t,l}function Ge(s,e,t){const l=s.slice();return l[34]=e[t],l[33]=t,l}function Ne(s){let e,t="❤️";return{c(){e=m("div"),e.textContent=t},l(l){e=g(l,"DIV",{"data-svelte-h":!0}),F(e)!=="svelte-m4niz7"&&(e.textContent=t)},m(l,a){I(l,e,a)},p:Ee,d(l){l&&h(e)}}}function Je(s){let e;function t(n,c){return n[28].length>0?Ke:qe}let l=t(s),a=l(s);return{c(){a.c(),e=Re()},l(n){a.l(n),e=Re()},m(n,c){a.m(n,c),I(n,e,c)},p(n,c){l===(l=t(n))&&a?a.p(n,c):(a.d(1),a=l(n),a&&(a.c(),a.m(e.parentNode,e)))},d(n){n&&h(e),a.d(n)}}}function qe(s){let e=s[27]+"",t;return{c(){t=U(e)},l(l){t=P(l,e)},m(l,a){I(l,t,a)},p(l,a){a[0]&1&&e!==(e=l[27]+"")&&Q(t,e)},d(l){l&&h(t)}}}function Ke(s){let e=s[27].replace(s[28],"")+"",t,l,a=s[28][0]+"",n,c,f=s[28].slice(1)+"",u;return{c(){t=U(e),l=m("span"),n=U(a),c=m("span"),u=U(f),this.h()},l(d){t=P(d,e),l=g(d,"SPAN",{class:!0});var w=A(l);n=P(w,a),w.forEach(h),c=g(d,"SPAN",{class:!0});var G=A(c);u=P(G,f),G.forEach(h),this.h()},h(){p(l,"class","firstLetter svelte-12hu407"),p(c,"class","remainingLetters svelte-12hu407")},m(d,w){I(d,t,w),I(d,l,w),i(l,n),I(d,c,w),i(c,u)},p(d,w){w[0]&1&&e!==(e=d[27].replace(d[28],"")+"")&&Q(t,e),w[0]&1&&a!==(a=d[28][0]+"")&&Q(n,a),w[0]&1&&f!==(f=d[28].slice(1)+"")&&Q(u,f)},d(d){d&&(h(t),h(l),h(c))}}}function Ye(s){let e=s[27]+"",t;return{c(){t=U(e)},l(l){t=P(l,e)},m(l,a){I(l,t,a)},p(l,a){a[0]&1&&e!==(e=l[27]+"")&&Q(t,e)},d(l){l&&h(t)}}}function We(s){let e,t,l,a,n=s[33]==0&&Je(s),c=s[33]!=0&&Ye(s);return{c(){e=m("p"),n&&n.c(),t=S(),c&&c.c(),l=S(),this.h()},l(f){e=g(f,"P",{class:!0,style:!0});var u=A(e);n&&n.l(u),t=L(u),c&&c.l(u),l=L(u),u.forEach(h),this.h()},h(){p(e,"class","word svelte-12hu407"),p(e,"style",a="top:"+s[29]+"px; position:absolute; left: "+s[30]+"%; color : "+(s[31]?"yellow":"#0aff52; text-wrap: nowrap;"))},m(f,u){I(f,e,u),n&&n.m(e,null),i(e,t),c&&c.m(e,null),i(e,l)},p(f,u){f[33]==0&&n.p(f,u),f[33]!=0&&c.p(f,u),u[0]&1&&a!==(a="top:"+f[29]+"px; position:absolute; left: "+f[30]+"%; color : "+(f[31]?"yellow":"#0aff52; text-wrap: nowrap;"))&&p(e,"style",a)},d(f){f&&h(e),n&&n.d(),c&&c.d()}}}function Qe(s){let e,t,l="Keyboard Game",a,n,c,f,u,d,w="Start Game",G,C,E,j="You lost!",J,V,oe,x,$,M,ae="Retry Game",ee,z,v,N,te=`<source src="${ke}/sounds/wrong-letter.mp3" type="audio/mp3"/>`,ie,q,pe=`<source src="${ke}/sounds/golden-letter.mp3" type="audio/mp3"/>`,k,b,H=`<source src="${ke}/sounds/word-complete.mp3" type="audio/mp3"/>`,D,O,W,le,X,_e,ce,me,ge,K,Se="Reset Highscore",ve,Y,Le="End Game",be,Oe,ne=he({length:s[1]>0?s[1]:0}),y=[];for(let o=0;o<ne.length;o+=1)y[o]=Ne(Ge(s,ne,o));let se=he(s[0]),T=[];for(let o=0;o<se.length;o+=1)T[o]=We(Ae(s,se,o));return{c(){e=m("div"),t=m("h1"),t.textContent=l,a=S(),n=m("h3"),c=U("Highscore : "),f=U(s[2]),u=S(),d=m("button"),d.textContent=w,G=S(),C=m("div"),E=m("h1"),E.textContent=j,J=S(),V=m("h3"),oe=U("Highscore : "),x=U(s[2]),$=S(),M=m("button"),M.textContent=ae,ee=S(),z=m("main"),v=m("div"),N=m("audio"),N.innerHTML=te,ie=S(),q=m("audio"),q.innerHTML=pe,k=S(),b=m("audio"),b.innerHTML=H,D=S(),O=m("div"),W=m("div");for(let o=0;o<y.length;o+=1)y[o].c();le=S(),X=m("p"),_e=U("Score : "),ce=U(s[3]),me=S();for(let o=0;o<T.length;o+=1)T[o].c();ge=S(),K=m("button"),K.textContent=Se,ve=S(),Y=m("button"),Y.textContent=Le,this.h()},l(o){e=g(o,"DIV",{class:!0});var _=A(e);t=g(_,"H1",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-1yy3ehf"&&(t.textContent=l),a=L(_),n=g(_,"H3",{class:!0});var r=A(n);c=P(r,"Highscore : "),f=P(r,s[2]),r.forEach(h),u=L(_),d=g(_,"BUTTON",{class:!0,"data-svelte-h":!0}),F(d)!=="svelte-ube2ht"&&(d.textContent=w),_.forEach(h),G=L(o),C=g(o,"DIV",{class:!0});var B=A(C);E=g(B,"H1",{class:!0,"data-svelte-h":!0}),F(E)!=="svelte-wr1rf3"&&(E.textContent=j),J=L(B),V=g(B,"H3",{class:!0});var we=A(V);oe=P(we,"Highscore : "),x=P(we,s[2]),we.forEach(h),$=L(B),M=g(B,"BUTTON",{class:!0,"data-svelte-h":!0}),F(M)!=="svelte-948ur"&&(M.textContent=ae),B.forEach(h),ee=L(o),z=g(o,"MAIN",{class:!0});var He=A(z);v=g(He,"DIV",{class:!0});var R=A(v);N=g(R,"AUDIO",{id:!0,"data-svelte-h":!0}),F(N)!=="svelte-1bnz6ve"&&(N.innerHTML=te),ie=L(R),q=g(R,"AUDIO",{id:!0,"data-svelte-h":!0}),F(q)!=="svelte-1g57ogz"&&(q.innerHTML=pe),k=L(R),b=g(R,"AUDIO",{id:!0,"data-svelte-h":!0}),F(b)!=="svelte-2vfguw"&&(b.innerHTML=H),D=L(R),O=g(R,"DIV",{class:!0,style:!0});var ue=A(O);W=g(ue,"DIV",{class:!0});var fe=A(W);for(let Z=0;Z<y.length;Z+=1)y[Z].l(fe);le=L(fe),X=g(fe,"P",{class:!0});var Ce=A(X);_e=P(Ce,"Score : "),ce=P(Ce,s[3]),Ce.forEach(h),fe.forEach(h),me=L(ue);for(let Z=0;Z<T.length;Z+=1)T[Z].l(ue);ue.forEach(h),ge=L(R),K=g(R,"BUTTON",{class:!0,"data-svelte-h":!0}),F(K)!=="svelte-11yf30p"&&(K.textContent=Se),ve=L(R),Y=g(R,"BUTTON",{class:!0,"data-svelte-h":!0}),F(Y)!=="svelte-165tmao"&&(Y.textContent=Le),R.forEach(h),He.forEach(h),this.h()},h(){p(t,"class","h1"),p(n,"class","h3"),p(d,"class","start svelte-12hu407"),p(e,"class","hidden svelte-12hu407"),de(e,"start-screen",s[4]=="start"),p(E,"class","h1 bg-surface-50"),p(V,"class","h3"),p(M,"class","retry svelte-12hu407"),p(C,"class","hidden svelte-12hu407"),de(C,"lose-screen",s[4]=="end"),p(N,"id","wrongAudio"),p(q,"id","goldenWordSound"),p(b,"id","wordComplete"),p(X,"class","score svelte-12hu407"),p(W,"class","life-display svelte-12hu407"),p(O,"class","wordContainer svelte-12hu407"),Ie(O,"height",Be+"px"),Ie(O,"width",Xe+"px"),p(K,"class","reset-high svelte-12hu407"),p(Y,"class","end-game"),p(v,"class","main-wrapper svelte-12hu407"),p(z,"class","svelte-12hu407")},m(o,_){I(o,e,_),i(e,t),i(e,a),i(e,n),i(n,c),i(n,f),i(e,u),i(e,d),I(o,G,_),I(o,C,_),i(C,E),i(C,J),i(C,V),i(V,oe),i(V,x),i(C,$),i(C,M),I(o,ee,_),I(o,z,_),i(z,v),i(v,N),i(v,ie),i(v,q),i(v,k),i(v,b),i(v,D),i(v,O),i(O,W);for(let r=0;r<y.length;r+=1)y[r]&&y[r].m(W,null);i(W,le),i(W,X),i(X,_e),i(X,ce),i(O,me);for(let r=0;r<T.length;r+=1)T[r]&&T[r].m(O,null);i(v,ge),i(v,K),i(v,ve),i(v,Y),be||(Oe=[re(window,"keydown",s[7]),re(d,"click",s[6]),re(M,"click",s[10]),re(K,"click",s[11]),re(Y,"click",s[12])],be=!0)},p(o,_){if(_[0]&4&&Q(f,o[2]),_[0]&16&&de(e,"start-screen",o[4]=="start"),_[0]&4&&Q(x,o[2]),_[0]&16&&de(C,"lose-screen",o[4]=="end"),_[0]&2){ne=he({length:o[1]>0?o[1]:0});let r;for(r=0;r<ne.length;r+=1){const B=Ge(o,ne,r);y[r]?y[r].p(B,_):(y[r]=Ne(),y[r].c(),y[r].m(W,le))}for(;r<y.length;r+=1)y[r].d(1);y.length=ne.length}if(_[0]&8&&Q(ce,o[3]),_[0]&1){se=he(o[0]);let r;for(r=0;r<se.length;r+=1){const B=Ae(o,se,r);T[r]?T[r].p(B,_):(T[r]=We(B),T[r].c(),T[r].m(O,null))}for(;r<T.length;r+=1)T[r].d(1);T.length=se.length}},i:Ee,o:Ee,d(o){o&&(h(e),h(G),h(C),h(ee),h(z)),Me(y,o),Me(T,o),be=!1,Pe(Oe)}}}const Be=750,Xe=500,Ze=100,Te=3;let xe=50;function $e(s){return s[Math.floor(Math.random()*s.length)]}function et(s,e,t){let l;Ve(s,ye,k=>t(5,l=k));const a=["if","else","function","let","var","hypotes","for","array","number","import","from","const","p","div","slot","article","tag","main","style","script","ul","li","ol","background-color","color","margin","padding","width","height","display","flex","grid","inline","block","justify-content","align-items","gap"];let n=[],c=0,f=Date.now(),u=Te,d=Ze,w=null,G=null,C=null,E=0,j=0,J="start",V=null;const oe=(k,b,H)=>{let D;const O=()=>{const W=()=>{k(),O()},le=Math.floor(Math.random()*(H-b+1))+b;D=setTimeout(W,le)};return O(),{clear(){clearTimeout(D)}}};function x(){let k=$e(a);n.push({word:k,lettersLeft:k,top:0,left:Math.random()*90,speed:d+Math.random()*xe,isGold:Math.random()>.5,isUseless:!1}),t(0,n)}ze(()=>{w=document.getElementById("wrongAudio"),G=document.getElementById("wordComplete"),C=document.getElementById("goldenWordSound"),t(2,E=l.length>0?JSON.parse(l):0),te()});function $(){V=oe(()=>x(),1e3,2e3),M("running"),t(3,j=0),te()}function M(k){t(4,J=k),t(4,J)}function ae(k){let b=k.key;if(b.length>1)return;let H=n[0],D=H==null?void 0:H.lettersLeft;D!=null&&(b===D[0]?(D=D.slice(1),t(0,n[0].lettersLeft=D,n),t(0,n),console.log("CORRECT"),D.length==0&&(console.log("WORD COMPLETE"),n.shift(),t(3,j+=H.word.length*(H.isGold?2:1)),H.isGold?ee():(G.currentTime=0,G.play()))):(console.log("Wrong LETTER"),z()),t(0,n))}function ee(){C.currentTime=0,C.play(),!(u>=Te)&&t(1,u+=1)}function z(){t(1,u=u-1),w.currentTime=0,w.play(),console.log("A WORD REACHED BOTTOm"),u<=0&&N()}function v(){t(0,n=[]),t(1,u=Te),t(0,n),$(),M("running")}function N(){V.clear(),M("end"),E<j&&t(2,E=j),De(ye,l=JSON.stringify(E),l)}function te(){if(J!="running")return;let k=Date.now();c=k-f,f=k;for(let b of n){const H=n.indexOf(b);b.top+=b.speed*c/1e3,b.top>=Be&&(n.splice(H,1),z())}t(0,n),requestAnimationFrame(te)}return[n,u,E,j,J,l,$,ae,v,N,()=>{v(),console.log("Restart")},()=>{t(2,E=0),De(ye,l=JSON.stringify(E),l)},()=>{N()}]}class rt extends Fe{constructor(e){super(),je(this,e,et,Qe,Ue,{},null,[-1,-1])}}export{rt as component};
